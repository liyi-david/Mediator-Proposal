system <T:type> alternator (A:in T, B:in T, C: out T) {
    internals A1,A2,B1,B2,C1,C2;
    connections {
        Replicator<T>(A,A1,A2);
        Replicator<T>(B,B1,B2);
        Merger<T>(C1,C2,C);

        Sync<T>(A1,C1);
        SyncDrain<T>(A2,B1);
        Fifo1<T>(B2,C2);
    }
}